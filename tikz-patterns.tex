\usemodule[tikz]

\starttext
		
%\usetikzlibrary {decorations.pathmorphing}
% \starttikzpicture
%   \node [fill=yellow!30,draw,thick, minimum height=2cm, minimum width=3cm,
%          decorate, decoration={random steps,segment length=3pt,amplitude=1pt}]
%     {\ \ Mussum Ipsum, cacilds vidis litro abertis.\ \ };
% \stoptikzpicture

% \usetikzlibrary {decorations.text}
% \tikz \fill [decorate,decoration={text along path,
%                text=This is a text along a path. Note how the path is lost.}]
%   [fill=blue!20,draw=blue,thick] (0,0) -- (5,1) arc (90:-90:.5);

% \usetikzlibrary {decorations.fractals}
% \starttikzpicture[decoration=Koch snowflake,draw=blue,fill=blue!20,thick]
%   \filldraw (0,0) -- ++(60:1) -- ++(-60:1) -- cycle ;
%   \filldraw decorate{ (0,-1) -- ++(60:1) -- ++(-60:1) -- cycle };
%   \filldraw decorate{ decorate{ (0,-2.5) -- ++(60:1) -- ++(-60:1) -- cycle }};
% \stoptikzpicture

% \usetikzlibrary {patterns,patterns.meta}
% \starttikzpicture
%   %\draw[pattern={grid},pattern color=orange] (0,0) rectangle +(10,10);
%   %\draw[pattern={Hatch},pattern color=blue]  (0,0) rectangle +(10,3);
%   %\draw[pattern={crosshatch},pattern color=orange] (1,0) rectangle +(10,3);
%   %\draw[pattern={Hatch[angle=45,distance={3pt/sqrt(2)},xshift=.1pt]}, pattern color=blue] (1,0) rectangle +(1,1);
%     \draw[pattern={fivepointed stars},pattern color=orange]
%     (0,0) rectangle +(1,1);
%   \draw[pattern={Stars},pattern color=blue]
%     (0,0) rectangle +(1,1);

%   \draw[pattern={sixpointed stars},pattern color=orange]
%     (1,0) rectangle +(1,1);
%   \draw[pattern={Stars[points=6]},pattern color=blue]
%     (1,0) rectangle +(1,1);
% \stoptikzpicture

% \usetikzlibrary {patterns.meta}
% \tikzdeclarepattern{
%   name=flower,
%   type=colored,
%   bottom left={(-.1pt,-.1pt)},
%   top right={(10.1pt,10.1pt)},
%   tile size={(10pt,10pt)},
%   code={
%     \tikzset{x=1pt,y=1pt}
%     \path [draw=green] (5,2.5) -- (5, 7.5);
%     \foreach \i in {0,60,...,300}
%       \path [fill=pink, shift={(5,7.5)}, rotate=-\i]
%         (0,0) .. controls ++(120:4) and ++(60:4) .. (0,0);
%     \path [fill=red] (5,7.5) circle [radius=1];
%     \foreach \i in {-45,45}
%       \path [fill=green, shift={(5,2.5)}, rotate=-\i]
%         (0,0) .. controls ++(120:4) and ++(60:4) .. (0,0);
%   }
% }

% \tikz\draw [pattern=flower] circle [radius=1];

% \usetikzlibrary {patterns.meta}
% \tikzdeclarepattern{
%   name=mystars,
%   type=uncolored,
%   bounding box={(-5pt,-5pt) and (5pt,5pt)},
%   tile size={(\tikztilesize,\tikztilesize)},
%   parameters={\tikzstarpoints,\tikzstarradius,\tikzstarrotate,\tikztilesize},
%   tile transformation={rotate=\tikzstarrotate},
%   defaults={
%     points/.store in=\tikzstarpoints,points=5,
%     radius/.store in=\tikzstarradius,radius=3pt,
%     rotate/.store in=\tikzstarrotate,rotate=0,
%     tile size/.store in=\tikztilesize,tile size=10pt,
%   },
%   code={
%     \pgfmathparse{180/\tikzstarpoints}\let\a=\pgfmathresult
%     \fill (90:\tikzstarradius) \foreach \i in {1,...,\tikzstarpoints}{
%       -- (90+2*\i*\a-\a:\tikzstarradius/2) -- (90+2*\i*\a:\tikzstarradius)
%     } -- cycle;
%   }
% }

% \starttikzpicture[overlay]
% % \draw[pattern=mystars,pattern color=blue]               (0,0) rectangle +(2,2);
% % \draw[pattern={mystars[points=7,tile size=15pt]}]       (2,0) rectangle +(2,2);
% % \draw[pattern={mystars[rotate=45]},pattern color=red]   (0,2) rectangle +(2,2);
% \draw[pattern={mystars[rotate=30,points=14,radius=5pt]},pattern color=blue!30] (-\paperwidth,-\paperheight) rectangle (\paperwidth,\paperheight);
% \stoptikzpicture


\usetikzlibrary {patterns.meta}
\tikzdeclarepattern{
  name=mylines,
  parameters={
      \pgfkeysvalueof{/pgf/pattern keys/size},
      \pgfkeysvalueof{/pgf/pattern keys/angle},
      \pgfkeysvalueof{/pgf/pattern keys/line width},
  },
  bounding box={
    (0,-0.5*\pgfkeysvalueof{/pgf/pattern keys/line width}) and
    (\pgfkeysvalueof{/pgf/pattern keys/size},
0.5*\pgfkeysvalueof{/pgf/pattern keys/line width})},
  tile size={(\pgfkeysvalueof{/pgf/pattern keys/size},
\pgfkeysvalueof{/pgf/pattern keys/size})},
  tile transformation={rotate=\pgfkeysvalueof{/pgf/pattern keys/angle}},
  defaults={
    size/.initial=5pt,
    angle/.initial=45,
    line width/.initial=.4pt,
  },
  code={
      \draw [line width=\pgfkeysvalueof{/pgf/pattern keys/line width}]
        (0,0) -- (\pgfkeysvalueof{/pgf/pattern keys/size},0);
  },
}

\starttikzpicture[overlay]
  \draw[pattern={mylines[size=10pt,line width=.8pt,angle=10]},
        pattern color=red]    (0,0) rectangle ++(2,2);
  \draw[pattern={mylines[size= 5pt,line width=.8pt,angle=40]},
        pattern color=blue]   (2,0) rectangle ++(2,2);
  \draw[pattern={mylines[size=10pt,line width=.4pt,angle=90]},
        pattern color=green]  (0,2) rectangle ++(2,2);
  \draw[pattern={mylines[size= 2pt,line width= 1pt,angle=70]},
        pattern color=orange] (2,2) rectangle ++(2,2);
\stoptikzpicture

\stoptext
	
